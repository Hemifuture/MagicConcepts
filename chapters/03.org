#+TITLE: 魔法的性质与构建原则
#+DATE: <2019-01-03 Thu>
#+AUTHOR: dyzdyz010
#+EMAIL: dyzdyz010@gmail.com

# #############################################################################
# Org Options
# #############################################################################
#+INCLUDE: "./export-options/org.org"

# #############################################################################
# HTML Options
# #############################################################################
#+INCLUDE: "./export-options/html.org"

# #############################################################################
# LaTeX Options
# #############################################################################
#+INCLUDE: "./export-options/tex.org"


# #############################################################################
# Main content
# #############################################################################
* 魔法的性质与构建原则

一个完整魔法需要将魔法符号在进行符合各种规则的构建之后方可发挥作用。魔法符号的组合构建受到现实世界中的各种因素影响。

** 魔法符号稳定性（Glyph Stability）

魔法符号受现实世界的物质影响，在发挥作用时存在 *不确定性*。具体体现在魔法符号对灵炁的转化效率。魔法符号越稳定，转化效率越高，但存在上限，上限是理想状态下绝对无损失的效率。由于现实世界不存在理想状态，因此真实状态下魔法符号的转化效率只能无限逼近理想状态。

** 魔法符号转化效率（Glyph Transfrom Efficiency, GTE）

魔法符号将灵炁或中间能量转化为信息波或下一步中间能量时的效率。

魔法符号的转化效率在极大多数情况下小于100%，但在某些特殊魔法的加成下可达到100%，但不超过100%。

*** 影响因素

魔法符号的转化效率受多方面影响：

**** 魔法符号本身分级

不同分级的魔法符号天然转化效率不同。魔法符号的分级越高，转化效率越低。

**** 施法者魔法知识等级

施法者对某个/某类魔法符号的掌握程度也会影响其使用该符号时的转化效率。

**** 魔法符号受克制/加强效果影响

在有效魔法中，位于靠后的魔法符号会受到靠前位置的魔法符号属性加强或受到克制。这种加强或克制效果会影响到魔法符号的转化效率。两个符号的距离越近，其影响效果就越大；反之越远，其影响效果就越小。

*距离* ：指两个符号之间间隔的符号数。

**** 环境影响

魔法符号的转化效率会受所处环境的不同而产生影响。比如空气湿度、温度、风、光照强度等。

#+CAPTION: 不同环境因素对不同属性魔法符号的增幅情况表
#+NAME:   fig:glyph_boost
| 因素/增幅属性/变化  | 下降 | 上升 |
|-------+-------+-----|
| 温度 |  水 |  火 |
| 湿度  |  金 |  水/土 |
| 风力  |  - |  木 |
| 光照  |  金/水 |  木/火 |

#+CAPTION: 不同环境因素对不同属性魔法符号的削弱情况表
#+NAME:   fig:glyph_debuff
| 因素/增幅属性/变化  | 下降 | 上升 |
|-------+-------+-----|
| 温度 |  火 |  水 |
| 湿度  |  水/土 |  金 |
| 风力  |  木 |  - |
| 光照  |  木/火 |  金/水 |

** 魔法符号组合

魔法符号的组合方式对最终形成的有效魔法起到至关重要的作用。其中，魔法符号的排列规则、载体、施法主体的不同都会对魔法的效果产生影响。

*** 魔法符号载体（Glyph Carrier）

魔法符号可以由不同种类的载体承载从而发挥作用。

**** 表面雕刻

是载体的刚性表面上进行雕刻、蚀刻，形成的魔法符号图案。

泥石这种方式形成的魔法符号稳定性受到载体稳定性的影响。如雕刻在石板表面比泥板表面（石板比泥板更坚固更具性质稳定）的魔法符号发挥作用的稳定性更强。

**** 表面涂画

在物体表面使用涂料等工具将魔法符号图案涂画、喷涂上去。

这种方式形成的魔法符号稳定性受涂画材料的稳定性影响，包括表面材质、涂料种类等。如使用油性涂料形成的魔法符号比水性涂料形成的魔法符号在自然环境下稳定性要强。

**** 空气成像

由于实现空气成像很复杂，因此使用频率较低。但此种方式可以配合思维意象类魔法符号和魔法阵共同使用——例：先使用思维意象魔法产生空气成像介质，再附加魔法阵，最后附加有效魔法的魔法符号。

**** 天然结构

生物和非生物内部天然形成的组织结构。虽然形成有效魔法的概率非常小，但是依然存在，且生物体内形成的概率受自然选择的影响要比非生物形成的概率大。

**** 思维意象

智慧生物特有能力，可以将魔法符号在思维中呈现并组合，从而构成有效魔法。

通过思维意象形成魔法符号组合的方式为智慧生物所特有，其特点是即时可变性，生物思维可以动态决定魔法符号的生效时间和排列方式，实现有效魔法的组合和变换。

**** 备注

其中，除了思维意象/利用思维意象产生空气成像以外的其他几种表现方式，除非外力进行干涉，否则其本身都是固定的、不可变的，如在石头表面凿刻魔法符号之后，除了自然磨损风化以及人为操作的因素，其已经生效的魔法符号是不变的。

*** 魔法符号连接属性克制/加强原理

魔法符号在组合的过程中，魔法符号转化效率会受到其他魔法符号属性克制/加强的影响，这种影响通过魔法符号的前后顺序发挥作用。

**** 属性克制

当被克制属性的魔法符号位于克制魔法符号的后方（更靠近结束符号的方向）时，被克制属性的魔法符号转化效率下降，幅度由符号分级和与克制符号的距离决定。

**** 属性加强

与属性克制相反，如果被克制属性的魔法符号位于克制魔法符号的前方（更接近开端魔法符号），那么克制属性魔法符号的转化效率将被增强，幅度由符号分级与克制符号的距离决定。

**** 属性克制/加强幅度因素

两个具有克制关系属性的魔法符号，其克制与加强效果的幅度受两魔法符号分级和两符号之间相隔的魔法符号个数有关。

*影响幅度*

变量定义：

- $E(T)$ - 被克制/加强的魔法符号转化效率
- $E'(T)$ - 被克制/加强的魔法符号在不受克制/加强效果时的转化效率
- $D(ST)$ - 两魔法符号之间的魔法符号间隔距离，相邻时为1

*公式：*

$$
E(T) = E'(T)*(1 - \frac{1}{2*D(ST)^2}), {D(ST) \ge 1}
$$

*函数图像：*

#+CAPTION: 魔法符号距离对生克关系的影响公式图像
#+NAME:   fig:glyph_distancing_plot
#+ATTR_LATEX: :width 300px
[[../assets/glyph_distancing_plot.png]]

从图像可以看出，克制/加强的影响程度随着两魔法符号之间间隔的符号数量增多而下降。在两魔法符号相邻时，被克制/加强符号的转化效率变为原来的一半；在间隔 6 个符号距离之后，克制/加强关系的影响将微乎其微。

**** 影响范围

每个魔法符号均受有效魔法范围内所有其他符号的影响。计算时，分别计算受影响符号与其他每个符号之间的克制/加强影响，再对所有结果加和。举例：

$G1, G2, G3$ 为同一有效魔法内的三个魔法符号，其中 G3 受 G1 和 G2 属性克制，其中 G2 与 G3 相邻，G1 与 G3 的距离为 4，可先计算 G3 受 G2 的影响：

$$E'(G3) * (1-\frac{1}{2*1^2}) = \frac{1}{2}E'(G3)$$

再计算 G3 受 G1 的影响：

$$E'(G3) * (1-\frac{1}{2*4^2}) = \frac{1}{32}E'(G3)$$

最后将所有影响加和：

$$\frac{1}{2}E'(G3) + \frac{1}{32}E'(G3) = \frac{17}{32}E'(G3) \approx 0.53E'(G3)$$

因此得到，G3 最终的转化效率为：

$$E(G3) = 0.53E'(G3)$$

加强/混杂的情况同理。

*** 施法主体区分

TODO

*** 魔法阵/咒语

把这两者放在一起，是因为此两者的主要用途均为提升魔法符号转化效率，只是使用场景和表现形式略有不同。

**** 魔法阵

魔法阵是由 /魔法阵符号/ 和 /有效魔法/ 构成的高级有效魔法。魔法阵拥有固定形状的外形，外形由魔法阵符号决定。

魔法阵通过魔法阵符号对已有的有效魔法进行组合和增强，但增强水平不超过100%。

***** 魔法阵符号

一类特殊魔法符号，仅用于魔法阵，可用于容纳和增强有效魔法。其形状即代表魔法阵形状。

魔法阵符号分为 /外部符号/ 和 /内部符号/ ：外部符号用于代表整个魔法阵的形态。内部符号作为魔法阵的一个部分出现。单个外部符号内可嵌套多个内部符号，实现有效魔法的组合。

内外部符号的组合是有约束的，每个外部符号只能容纳固定类型的内部符号，同样每个内部符号也只能在固定类型的外部符号内使用。

****** 外部符号

每个外部符号除本身效果外都具有以下几种属性：

- 可用内部符号类型
- 槽位及顺序
- 自身生效时间

****** 内部符号

每个内部符号除本身效果及容纳有效魔法外都具有以下属性：

- 可用外部符号类型
- 自身生效时间

***** 施法时间

魔法阵的时间由魔法阵符号和包含的有效魔法时间加和而成。公式：

$$
T(总) = T(外部符号) + \displaystyle\sum_{i=1}^n {[T_i(内部符号) + T_i(有效魔法)]}
$$

***** 施法生效顺序

外部符号 → 内部符号 → 有效魔法

魔法阵的一般施法时间虽然受多种因素影响，但总体时间比咒语魔法所需时间要短得多。

**** 咒语

一类特殊的、只能通过声波形式生效的魔法符号，可以提升魔法符号的转化效率，可以超过100%。

咒语符号可以穿插在有效魔法中使用，不像魔法阵符号必须先于有效魔法生效。

咒语符号的施法时间比魔法阵符号长，且存在数量级的差距。但是相应地，在魔法威力超过一定水平后，咒语符号的效果将成倍增长。 

** 吸引力法则

具有魔法符号的实体会相互吸引，导致物理距离的缩短或命运的纠缠。

天然魔法符号超级生命体 （名称待定） 即是由宇宙演化过程中自然形成的魔法符号在漫长的时间中互相吸引，形成有意义的能量循环后诞生的。

吸引力法则的作用比较微弱，并不能克服其他自然力实现移动的效果，例如站在地上的石头。但是漂浮的物体可以实现微弱的移动效果，如飞行传播的种子、宇宙中的漂浮物体。

能够使用魔法的人之间会相互吸引，在气质上和感性上吸引能够使用同类魔法的人。